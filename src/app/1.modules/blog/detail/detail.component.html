<script async src="https://www.googletagmanager.com/gtag/js?id=G-WGMMJK9NR3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());
  gtag('config', 'G-WGMMJK9NR3');
</script>

<div class="bg-gray-200 h-full w-full">
  <app-header class="bg-white" [title]="'Thoughts and Images'"
    [sub_title]="'Impressions of our life and work, living in Tokyo'"></app-header>

  <section id="top "></section>
  <div class="relative mx-auto max-w-7xl font-garamond bg-white m-2">

    <div class="px-4 py-12" *ngIf="blogImages$ | async as blogImages">
      <div class="lg:max-w-[1440px] md:max-w-[744px] max-w-[375px] mx-auto bg-white py-12 lg:px-10 md-px-6 px-4">

        <div class="font-garamond text-4xl text-gray-900 lg:max-w-[624px] w-full lg:mt-8 md:mt-6 mt-4"> {{blog.title}}
        </div>

        <div class="gap-4 mt-6 lg:mt-12 md:mt-8 justify-evenly">
          <p class="max-w-lg text-base text-center text-gray-700 md:text-left"
            [innerHTML]="blog.paragraph | safe: 'html'"></p>
        </div>

        <div class="gap-4 mt-6 lg:flex lg:mt-12 justify-evenly ">
          <p class="max-w-[700px] p-1 text-base text-center text-gray-700 bg-white top-48 md:text-left bg-blur"
            [innerHTML]="blog.body | safe: 'html'"></p>
        </div>

        <div class="hidden md:block sm:block" *ngIf="blogImages?.length > 1">
          <img [ngSrc]="blogImages[1].imageSrc" width="400" height="400" alt="caps" class="rounded-lg " />
        </div>

        <div class="gap-4 mt-6 lg:flex lg:mt-12 justify-evenly ">
          <p class="max-w-[700px] p-1 text-base text-center text-gray-700 bg-white top-48 md:text-left bg-blur"
            [innerHTML]="blog.conclusion | safe: 'html'"></p>
        </div>

        <div class="hidden md:block sm:block" *ngIf="blogImages?.length > 2">
          <img [ngSrc]="blogImages[2].imageSrc" width="400" height="400" alt="caps" class="rounded-lg " />
        </div>
      </div>
    </div>
    <section id="comment">
      <blog-comments class="mt-5" [blog_id]='blog.id' [userName]='userName'></blog-comments>
      <blog-comments-list class="mt-5" [blog_id]='blog.id'></blog-comments-list>

      <div *ngIf="!bottom">
        <button (click)="onAdd()"
          class="fixed bottom-30 right-14 w-12 h-12 bg-gray-400 rounded-full hover:bg-gray-600 active:shadow-lg mouse shadow transition ease-in duration-200 focus:outline-none">
          <mat-icon class="mt-1.5" [svgIcon]="'mat_outline:insert_comment'"></mat-icon>
        </button>
      </div>

      <div *ngIf="bottom">
        <button (click)="gotoTop()"
          class="fixed md:bottom-30 bottom-36 right-14 w-12 h-12 bg-gray-400 rounded-full hover:bg-gray-600 active:shadow-lg mouse shadow transition ease-in duration-200 focus:outline-none">
          <mat-icon class="mt-1.5" [svgIcon]="'heroicons_outline:arrow-circle-up'"></mat-icon>
        </button>
      </div>
    </section>
  </div>
</div>

<style>
  .bg-blur {
    background: linear-gradient(91.25deg, rgba(255, 255, 255, 0.7) 0%, rgba(255, 255, 255, 0.4) 99.82%);
    backdrop-filter: blur(25px);
  }
</style>
